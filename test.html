<!DOCTYPE html>
<html>
	<head>
		<title>Introducing Segura!</title>
		<script src="segura-0.2.8.js" type="text/javascript"></script>
		<script type="text/javascript">
			function init () {
				var query = "QML is a markup #language #invented by @alexandr, #year *2012.";
				var element = new QmlDocument(query);
				var level = 0;
				element.observe(models.EVENT.NEWNODE, function(data) {
					console.log(data);
					
					document.write( (data.level > level ? "{" : "") + " {" + data.node.tag + ": \"" + data.node.content + "\"}" + (data.level < level ? "}" : ",") );
					level = data.level;
				});
				element.parse();
				console.log(element);
				console.log(element.documentElement.data);
			};
		</script>
	</head>
	<body onload="init()">
		<ul id="seguraTree">
		</ul>
	</body>
</html>